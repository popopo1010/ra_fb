# Slack テキストファイルアップロード機能の設定

## 概要

`/rafb` のほかに、**テキストファイル（.txt / .md）をチャンネルにアップロードする**だけでフィードバックを生成できるようになりました。

- チャンネルに .txt または .md をドラッグ＆ドロップ
- ボットが検出して自動でフィードバックを生成
- 完了後、#dk_ra_初回架電fb に投稿

## 必要な設定（Slack App 管理画面）

### 1. イベント購読の追加

1. [Slack API](https://api.slack.com/apps) で対象アプリを開く
2. **「Event Subscriptions」** → **Subscribe to bot events**
3. **Add Bot User Event** で `file_shared` を追加
4. 保存

### 2. スコープの追加

1. **「OAuth & Permissions」** → **Scopes** → **Bot Token Scopes**
2. 以下を追加:
   - `files:read` … アップロードされたファイルの内容を読み取る
   - （既に追加済みの可能性）`channels:history` または `groups:history` … チャンネル内のイベントを受信

3. **「Reinstall to Workspace」** でワークスペースに再インストール

### 3. ボットをチャンネルに追加

ファイルアップロードで使いたいチャンネルに、ボットを招待してください。

```
/invite @RA_FB  （ボット名は実際の表示名に合わせて）
```

## 使い方

1. ボットが参加しているチャンネルで、.txt または .md ファイルをアップロード
2. 「テキストファイルを検出しました。処理中です…」と表示される
3. 完了後、#dk_ra_初回架電fb にフィードバックが投稿される

## 注意

- テキスト以外のファイル（画像・PDF 等）は無視されます
- ボットが参加していないチャンネルでは動作しません
